<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Hello Quarto</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../../../site_libs/countdown-0.4.0/countdown.css" rel="stylesheet">

<script src="../../../site_libs/countdown-0.4.0/countdown.js"></script>



<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-sites" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Sites</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-sites">    
        <li>
    <a class="dropdown-item" href="../../../services.html">
 <span class="dropdown-text">Services</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../courses.html">
 <span class="dropdown-text">Courses</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../projects.html">
 <span class="dropdown-text">Projects</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../blog.html">
 <span class="dropdown-text">Blog</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../publications.html">
 <span class="dropdown-text">Academic papers</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../docs/"> 
<span class="menu-text">Resume</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="1-hello-quarto.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Hello Quarto</h1>
<p class="subtitle lead">From R Markdown to Quarto</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="code-of-conduct" class="level2 smaller page-columns page-full">
<h2 class="smaller anchored" data-anchor-id="code-of-conduct">Code of Conduct</h2>
<blockquote class="blockquote">
<p>The American Statistical Association (ASA) is committed to providing an atmosphere in which personal respect and intellectual growth are valued and the free expression and exchange of ideas are encouraged. Consistent with this commitment, it is the policy of the ASA that all participants in ASA activities enjoy a welcoming environment free from unlawful discrimination, harassment, and retaliation. We strive to be a community that welcomes and supports people of all backgrounds and identities. This includes, but is not limited to, members of any race, ethnicity, culture, national origin, color, immigration status, social and economic class, educational level, sex, sexual orientation, gender identity and expression, age, size, family status, political belief, religion, and mental and physical ability.</p>
</blockquote>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<p><a href="https://www.amstat.org/meetings/code-of-conduct">ASA Code of Conduct</a></p>
</div></div></section>
<section id="expected-behavior" class="level2 smaller page-columns page-full">
<h2 class="smaller anchored" data-anchor-id="expected-behavior">Expected Behavior</h2>
<ul>
<li><p>Model and support the norms of respect necessary to promote the conditions for healthy exchange of scientific ideas.</p></li>
<li><p>In speech or conduct, do not insult or disparage other participants.</p></li>
<li><p>Be conscious of hierarchical structures, specifically the existence of stark power differentials between students, early career statisticians and established career statisticians—noting that fear of retaliation from more established statisticians can make it difficult for students and early career statisticians to express discomfort, rebuff unwelcome advances, and report violations of the conduct policy.</p></li>
<li><p>Be sensitive to indications that may suggest that individuals are feeling unwelcome.</p></li>
</ul>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<p><a href="https://www.amstat.org/meetings/code-of-conduct">ASA Code of Conduct</a></p>
</div></div></section>
<section id="about-me" class="level2">
<h2 class="anchored" data-anchor-id="about-me">About me</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Mine Çetinkaya-Rundel</strong></p>
<ul>
<li>Professor of the Practice<br>
Department of Statistical Science<br>
Duke University</li>
<li>Developer Educator, Posit<br>
</li>
<li>R Markdown user for 10+ years<br>
</li>
<li>Quarto user for 2+ years</li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong>Andrew Bray</strong></p>
<ul>
<li>Associate Teaching Professor<br>
Department of Statistics<br>
UC Berkeley</li>
<li>R Markdown user for 10+ years<br>
</li>
<li>Quarto user for 1+ years</li>
</ul>
</div>
</div>
</section>
<section id="about-you" class="level2">
<h2 class="anchored" data-anchor-id="about-you">About you</h2>
<div class="task">
<p>Please share:</p>
<ul>
<li>Name</li>
<li>Professional affiliaton</li>
<li>What do you use R and R Markdown for?</li>
</ul>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_b48520a2" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="meeting-you-where-you-are" class="level2">
<h2 class="anchored" data-anchor-id="meeting-you-where-you-are">Meeting you where you are</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="fragment fade-in-then-semi-out">
<p>These materials are pitched at someone who:</p>
<ul>
<li><p>knows some R + Markdown</p></li>
<li><p>has worked in RStudio</p></li>
<li><p>wants to learn about Quarto</p></li>
</ul>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment fade-in">
<p>I’ll <strong>teach</strong> you</p>
<ul>
<li><p>More Markdown</p></li>
<li><p>New Quarto formats</p></li>
<li><p>New Quarto projects</p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="workshop-structure" class="level2">
<h2 class="anchored" data-anchor-id="workshop-structure">Workshop structure</h2>
<ul>
<li><p>My turn:</p>
<ul>
<li>Lecture segments + live coding</li>
<li>Feel free to just watch, take notes, browse docs, or tinker around in RStudio</li>
</ul></li>
<li><p>Our Turn:</p>
<ul>
<li>Live coding + follow along</li>
<li>If problems crop up for you, ask away, but I might ask you to hold on</li>
</ul></li>
<li><p>Your Turn: Practice exercises for you</p></li>
</ul>
</section>
<section id="checking-in-one-more-time" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="checking-in-one-more-time">Checking in one more time</h2>
<div class="task">
<p><strong>1. Software:</strong> Download and install the latest versions of R, RStudio, and Quarto:</p>
<ul>
<li>R 4.2.3 or above: <a href="https://cran.r-project.org" class="uri">https://cran.r-project.org</a></li>
<li>RStudio 2023.09.0+448 or above: <a href="https://posit.co/download/rstudio-desktop" class="uri">https://posit.co/download/rstudio-desktop</a></li>
<li>Quarto 1.3.450: <a href="https://quarto.org/docs/get-started" class="uri">https://quarto.org/docs/get-started</a></li>
</ul>
<p><strong>2. R Packages:</strong> Install the following packages:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pkg_list <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"tidyverse"</span>, <span class="st">"gt"</span>, <span class="st">"ggthemes"</span>, <span class="st">"palmerpenguins"</span>, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>              <span class="st">"quarto"</span>, <span class="st">"here"</span>, <span class="st">"usethis"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(pkg_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>3. Exercises:</strong> Download and open the exercises for this session. The easiest way is to run this line of R code at the console in RStudio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_course</span>(<span class="st">"https://tinyurl.com/nashville-exercises"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>. . .</p>
<div class="hand-blue-large" style="text-align: center;">
<p>Let’s get started!</p>
</div>
</section>
<section id="what-is-quarto" class="level1">
<h1>What is Quarto?</h1>
<section id="quarto" class="level2">
<h2 class="anchored" data-anchor-id="quarto">Quarto …</h2>
<ul>
<li>is a new, open-source, scientific, and technical publishing system.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/horst_quarto_schematic.png" class="img-fluid figure-img" alt="A schematic representing the multi-language input (e.g. Python, R, Observable, Julia) and multi-format output (e.g. PDF, html, Word documents, and more) versatility of Quarto."></p>
<figcaption>Artwork from “Hello, Quarto” keynote by Julia Lowndes and Mine Çetinkaya-Rundel, presented at RStudio Conference 2022. Illustrated by Allison Horst.</figcaption>
</figure>
</div>
</section>
<section id="quarto-1" class="level2">
<h2 class="anchored" data-anchor-id="quarto-1">Quarto</h2>
<p>With Quarto you can weave together narrative text and code to produce elegantly formatted output as documents, web pages, blog posts, books and more.</p>
<p>. . .</p>
<p><br></p>
<p><em>just like R Markdown…</em></p>
<p>. . .</p>
<p><br></p>
<p>but not <em>just like</em> it, there’s more to it…</p>
</section>
<section id="quarto-unifies-extends-r-markdown" class="level2">
<h2 class="anchored" data-anchor-id="quarto-unifies-extends-r-markdown">Quarto unifies + extends R Markdown</h2>
<div class="incremental">
<ul class="incremental">
<li>Consistent implementation of attractive and handy features across outputs: tabsets, code-folding, syntax highlighting, etc.</li>
<li>More accessible defaults as well as better support for accessibility</li>
<li>Support for other languages like Python, Julia, Observable, and more via Jupyter engine for executable code chunks.</li>
</ul>
</div>
</section>
<section id="a-tour-of-quarto" class="level2">
<h2 class="anchored" data-anchor-id="a-tour-of-quarto">A tour of Quarto</h2>
<p><br><br></p>
<div class="hand-blue-large" style="text-align: center;">
<p>Sit back and enjoy!</p>
</div>
</section>
<section id="your-turn" class="level2">
<h2 class="anchored" data-anchor-id="your-turn">Your turn</h2>
<div class="task">
<p>Open <code>hello-penguins.qmd</code> in RStudio and with the <code>visual editor</code> . . .</p>
<ol type="1">
<li>Render the document.</li>
<li>Update your name and re-render.</li>
<li>Inspect components of the document and make one more update and re-render.</li>
<li>Compare notes with neighbors about updates you’ve made and note any aspects of the document that are not clear after the tour and your first interaction with it.</li>
</ol>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_908baf85" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
</section>
<section id="how-it-works" class="level1">
<h1>How it Works</h1>
<p>Introducing the Quarto CLI</p>
<section id="revisit-what-is-quarto" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="revisit-what-is-quarto">Revisit: What is Quarto?</h2>
<p>Quarto is a command line interface (CLI) that renders plain text formats (<code>.qmd</code>, <code>.rmd</code>, <code>.md</code>) OR mixed formats (<code>.ipynb</code>/Jupyter notebook) into static PDF/Word/HTML reports, books, websites, presentations and more.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="ex">andrewbray$</span> quarto <span class="at">--help</span></span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="ex">Usage:</span>   quarto </span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="ex">Version:</span> 1.3.450</span>
<span id="cb3-5"><a href="#cb3-5"></a></span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="ex">Description:</span></span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a>    <span class="ex">Quarto</span> CLI</span>
<span id="cb3-9"><a href="#cb3-9"></a></span>
<span id="cb3-10"><a href="#cb3-10"></a>  <span class="ex">Options:</span></span>
<span id="cb3-11"><a href="#cb3-11"></a></span>
<span id="cb3-12"><a href="#cb3-12"></a>    <span class="ex">-h,</span> <span class="at">--help</span>     <span class="at">-</span> Show this help.                            </span>
<span id="cb3-13"><a href="#cb3-13"></a>    <span class="ex">-V,</span> <span class="at">--version</span>  <span class="at">-</span> Show the version number for this program.  </span>
<span id="cb3-14"><a href="#cb3-14"></a></span>
<span id="cb3-15"><a href="#cb3-15"></a>  <span class="ex">Commands:</span></span>
<span id="cb3-16"><a href="#cb3-16"></a></span>
<span id="cb3-17"><a href="#cb3-17"></a>    <span class="ex">render</span>          <span class="pp">[</span><span class="ss">input</span><span class="pp">]</span> <span class="pp">[</span><span class="ss">args...</span><span class="pp">]</span>     <span class="at">-</span> Render files or projects to various document types.        </span>
<span id="cb3-18"><a href="#cb3-18"></a>    <span class="ex">preview</span>         <span class="pp">[</span><span class="ss">file</span><span class="pp">]</span> <span class="pp">[</span><span class="ss">args...</span><span class="pp">]</span>      <span class="at">-</span> Render and preview a document or website project.          </span>
<span id="cb3-19"><a href="#cb3-19"></a>    <span class="ex">serve</span>           <span class="pp">[</span><span class="ss">input</span><span class="pp">]</span>               <span class="at">-</span> Serve a Shiny interactive document.                        </span>
<span id="cb3-20"><a href="#cb3-20"></a>    <span class="ex">create</span>          <span class="pp">[</span><span class="ss">type</span><span class="pp">]</span> <span class="pp">[</span><span class="ss">commands...</span><span class="pp">]</span>  <span class="at">-</span> Create a Quarto project or extension                       </span>
<span id="cb3-21"><a href="#cb3-21"></a>    <span class="ex">create-project</span>  <span class="pp">[</span><span class="ss">dir</span><span class="pp">]</span>                 <span class="at">-</span> Create a project for rendering multiple documents          </span>
<span id="cb3-22"><a href="#cb3-22"></a>    <span class="ex">convert</span>         <span class="op">&lt;</span>input<span class="op">&gt;</span>               - Convert documents to alternate representations.            </span>
<span id="cb3-23"><a href="#cb3-23"></a>    <span class="ex">pandoc</span>          <span class="pp">[</span><span class="ss">args...</span><span class="pp">]</span>             <span class="at">-</span> Run the version of Pandoc embedded within Quarto.          </span>
<span id="cb3-24"><a href="#cb3-24"></a>    <span class="ex">run</span>             <span class="pp">[</span><span class="ss">script</span><span class="pp">]</span> <span class="pp">[</span><span class="ss">args...</span><span class="pp">]</span>    <span class="at">-</span> Run a TypeScript, R, Python, or Lua script.                </span>
<span id="cb3-25"><a href="#cb3-25"></a>    <span class="ex">add</span>             <span class="op">&lt;</span>extension<span class="op">&gt;</span>           - Add an extension to this folder or project                 </span>
<span id="cb3-26"><a href="#cb3-26"></a>    <span class="fu">install</span>         <span class="pp">[</span><span class="ss">target...</span><span class="pp">]</span>           <span class="at">-</span> Installs an extension or global dependency.                </span>
<span id="cb3-27"><a href="#cb3-27"></a>    <span class="ex">publish</span>         <span class="pp">[</span><span class="ss">provider</span><span class="pp">]</span> <span class="pp">[</span><span class="ss">path</span><span class="pp">]</span>     <span class="at">-</span> Publish a document or project. Available providers include:</span>
<span id="cb3-28"><a href="#cb3-28"></a>    <span class="ex">check</span>           <span class="pp">[</span><span class="ss">target</span><span class="pp">]</span>              <span class="at">-</span> Verify correct functioning of Quarto installation.         </span>
<span id="cb3-29"><a href="#cb3-29"></a>    <span class="bu">help</span>            <span class="pp">[</span><span class="ss">command</span><span class="pp">]</span>             <span class="at">-</span> Show this help or the help of a sub-command.      </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section" class="level2" data-menu="Quarto Diagram 1">
<h2 data-menu="Quarto Diagram 1" class="anchored" data-anchor-id="section"></h2>
<p><img src="images/quarto-workshop-1.jpg" class="img-fluid"></p>
</section>
<section id="section-1" class="level2" data-menu="Quarto Diagram 2">
<h2 data-menu="Quarto Diagram 2" class="anchored" data-anchor-id="section-1"></h2>
<p><img src="images/quarto-workshop-2.jpg" class="img-fluid"></p>
</section>
<section id="section-2" class="level2" data-menu="Quarto Diagram 3">
<h2 data-menu="Quarto Diagram 3" class="anchored" data-anchor-id="section-2"></h2>
<p><img src="images/quarto-workshop-3.jpg" class="img-fluid"></p>
</section>
<section id="section-3" class="level2" data-menu="Quarto Diagram 4">
<h2 data-menu="Quarto Diagram 4" class="anchored" data-anchor-id="section-3"></h2>
<p><img src="images/quarto-workshop-4.jpg" class="img-fluid"></p>
</section>
<section id="section-4" class="level2" data-menu="Quarto Diagram 5">
<h2 data-menu="Quarto Diagram 5" class="anchored" data-anchor-id="section-4"></h2>
<p><img src="images/quarto-workshop-5.jpg" class="img-fluid"></p>
</section>
<section id="under-the-hood" class="level2">
<h2 class="anchored" data-anchor-id="under-the-hood">Under the hood</h2>
<div class="incremental">
<ul class="incremental">
<li><code>knitr</code> or <code>jupyter</code> evaluates R/Python/Julia code and returns a <code>.md</code> file along with the evaluated code</li>
<li>Quarto applies Lua filters + CSS/LaTeX which is then evaluated alongside the <code>.md</code> file by Pandoc and converted to a final output format</li>
</ul>
</div>
</section>
<section id="aside-lua-filters" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="aside-lua-filters">Aside: Lua filters</h2>
<ul>
<li>Here is an example of a Lua filter that converts strong emphasis to small caps, from <a href="https://pandoc.org/lua-filters.html" class="uri">https://pandoc.org/lua-filters.html</a>:</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="cf">return</span> <span class="op">{</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">{</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">Strong</span> <span class="op">=</span> <span class="kw">function</span> <span class="op">(</span><span class="va">elem</span><span class="op">)</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> <span class="va">pandoc</span><span class="op">.</span>SmallCaps<span class="op">(</span><span class="va">elem</span><span class="op">.</span><span class="va">c</span><span class="op">)</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span><span class="op">,</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>. . .</p>
<ul>
<li>Lua filters written by R/Python/Julia developers should be interchangeable between formats - not language specific!</li>
</ul>
<p>. . .</p>
<ul>
<li>We won’t go into the details of writing Lua filters in this workshop, and you don’t need to worry about learning about Lua filters unless you’re working on extending Quarto.</li>
</ul>
</section>
<section id="from-the-comfort-of-your-own-homeworkspace" class="level2">
<h2 class="anchored" data-anchor-id="from-the-comfort-of-your-own-homeworkspace">From the comfort of your own <del>home</del>workspace</h2>
<div class="r-stack">
<p><img src="https://quarto.org/docs/tools/images/rstudio-preview.png" class="fragment img-fluid" alt="A screenshot of a Quarto document rendered inside RStudio" width="1200"></p>
<p><img src="https://quarto.org/docs/tools/images/jupyterlab-preview.png" class="fragment img-fluid" alt="A screenshot of a Quarto document rendered inside JupyterLab" width="1200"></p>
<p><img src="https://quarto.org/docs/computations/images/python-vscode.png" class="fragment img-fluid" alt="A screenshot of a Quarto document rendered inside VSCode" width="1200"></p>
</div>
</section>
</section>
<section id="navigating-within-rstudio" class="level1">
<h1>Navigating within RStudio</h1>
<section id="rendering" class="level2">
<h2 class="anchored" data-anchor-id="rendering">Rendering</h2>
<ol type="1">
<li>Option 1: In RStudio with <img src="images/render-button.png" class="img-fluid"> as a background job, and preview the output.</li>
</ol>
<p>. . .</p>
<ol start="2" type="1">
<li>Option 2: In the Terminal via <code>quarto render</code>:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render document.qmd <span class="co"># defaults to html</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render document.qmd <span class="at">--to</span> pdf</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render document.qmd <span class="at">--to</span> docx</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>. . .</p>
<ol start="3" type="1">
<li>Option 3: In the R console, via the <code>quarto</code> R package:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quarto)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">quarto_render</span>(<span class="st">"document.qmd"</span>) <span class="co"># defaults to html</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">quarto_render</span>(<span class="st">"document.qmd"</span>, <span class="at">output_format =</span> <span class="st">"pdf"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="your-turn-1" class="level2">
<h2 class="anchored" data-anchor-id="your-turn-1">Your turn</h2>
<div class="task">
<ul>
<li>Open the last .qmd file you were working on in RStudio.</li>
<li>Compare behavior of rendering with
<ul>
<li>RStudio &gt; Render,</li>
<li>using the CLI with <code>quarto render</code>, and</li>
<li>in the R console via <code>quarto_render()</code>.</li>
</ul></li>
<li>If you’re an RStudio user, brainstorm why you might still want to know about the other two ways of rendering Quarto documents.</li>
</ul>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_c05b4511" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">03</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
</section>
<section id="quarto-formats" class="level1">
<h1>Quarto formats</h1>
<section id="one-install-batteries-included" class="level2">
<h2 class="anchored" data-anchor-id="one-install-batteries-included">One install, “Batteries included”</h2>
<ul>
<li>RMarkdown grew into a large ecosystem, with <strong>varying syntax</strong>.</li>
</ul>
<p>. . .</p>
<ul>
<li><p>Quarto comes <strong>“batteries included”</strong> straight out of the box</p>
<ul>
<li>HTML reports and websites</li>
<li>PDF reports</li>
<li>MS Office (Word, Powerpoint)</li>
<li>Presentations (Powerpoint, Beamer, <code>revealjs</code>)</li>
<li>Books</li>
</ul></li>
</ul>
<p>. . .</p>
<ul>
<li>Any language, <em>exact</em> same approach and syntax</li>
</ul>
</section>
<section id="many-quarto-formats" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="many-quarto-formats">Many Quarto formats</h2>
<table class="table">
<thead>
<tr class="header">
<th>Feature</th>
<th>R Markdown</th>
<th>Quarto</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Basic Formats</td>
<td><p><a href="https://pkgs.rstudio.com/rmarkdown/reference/html_document.html">html_document</a></p>
<p><a href="https://pkgs.rstudio.com/rmarkdown/reference/pdf_document.html">pdf_document</a></p>
<p><a href="https://pkgs.rstudio.com/rmarkdown/reference/word_document.html">word_document</a></p></td>
<td><p><a href="https://quarto.org/docs/output-formats/html-basics.html">html</a></p>
<p><a href="https://quarto.org/docs/output-formats/pdf-basics.html">pdf</a></p>
<p><a href="https://quarto.org/docs/output-formats/ms-word.html">docx</a></p></td>
</tr>
<tr class="even">
<td>Beamer</td>
<td><a href="https://pkgs.rstudio.com/rmarkdown/reference/beamer_presentation.html">beamer_presentation</a></td>
<td><a href="https://quarto.org/docs/presentations/beamer.html">beamer</a></td>
</tr>
<tr class="odd">
<td>PowerPoint</td>
<td><a href="https://pkgs.rstudio.com/rmarkdown/reference/powerpoint_presentation.html">powerpoint_presentation</a></td>
<td><a href="https://quarto.org/docs/presentations/powerpoint.html">pptx</a></td>
</tr>
<tr class="even">
<td>HTML Slides</td>
<td><p><a href="https://bookdown.org/yihui/rmarkdown/xaringan.html">xaringan</a></p>
<p><a href="https://bookdown.org/yihui/rmarkdown/ioslides-presentation.html">ioslides</a></p>
<p><a href="https://bookdown.org/yihui/rmarkdown/revealjs.html">revealjs</a></p></td>
<td><a href="https://quarto.org/docs/presentations/revealjs/">revealjs</a></td>
</tr>
<tr class="odd">
<td>Advanced Layout</td>
<td><p><a href="https://bookdown.org/yihui/rmarkdown/tufte-handouts.html">tufte</a></p>
<p><a href="https://rstudio.github.io/distill/figures.html">distill</a></p></td>
<td><a href="https://quarto.org/docs/authoring/article-layout.html">Quarto Article Layout</a></td>
</tr>
</tbody>
</table>
</section>
<section id="many-quarto-formats-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="many-quarto-formats-1">Many Quarto formats</h2>
<table class="table">
<thead>
<tr class="header">
<th>Feature</th>
<th>R Markdown</th>
<th>Quarto</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Cross References</td>
<td><p><a href="https://bookdown.org/yihui/bookdown/a-single-document.html">html_document2</a></p>
<p><a href="https://bookdown.org/yihui/bookdown/a-single-document.html">pdf_document2</a></p>
<p><a href="https://bookdown.org/yihui/bookdown/a-single-document.html">word_document2</a></p></td>
<td><a href="https://quarto.org/docs/authoring/cross-references.html">Quarto Crossrefs</a></td>
</tr>
<tr class="even">
<td>Websites &amp; Blogs</td>
<td><p><a href="https://pkgs.rstudio.com/blogdown/">blogdown</a></p>
<p><a href="https://pkgs.rstudio.com/distill/">distill</a></p></td>
<td><p><a href="https://quarto.org/docs/websites/">Quarto Websites</a></p>
<p><a href="https://quarto.org/docs/websites/website-blog.html">Quarto Blogs</a></p></td>
</tr>
<tr class="odd">
<td>Books</td>
<td><a href="https://pkgs.rstudio.com/bookdown/">bookdown</a></td>
<td><a href="https://quarto.org/docs/books/">Quarto Books</a></td>
</tr>
<tr class="even">
<td>Interactivity</td>
<td><a href="https://bookdown.org/yihui/rmarkdown/shiny-documents.html">Shiny Documents</a></td>
<td><a href="https://quarto.org/docs/interactive/shiny/">Quarto Interactive Documents</a></td>
</tr>
<tr class="odd">
<td>Journal Articles</td>
<td><a href="https://pkgs.rstudio.com/rticles/">rticles</a></td>
<td><a href="https://quarto.org/docs/journals/index.html">Journal Articles</a></td>
</tr>
<tr class="even">
<td>Dashboards</td>
<td><a href="https://pkgs.rstudio.com/flexdashboard/">flexdashboard</a></td>
<td>Coming soon!</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="wrap-up" class="level1">
<h1>Wrap up</h1>
<section id="what-about-r-markdown" class="level2">
<h2 class="anchored" data-anchor-id="what-about-r-markdown">What about R Markdown?</h2>
<div class="incremental">
<ul class="incremental">
<li><p>You can render existing R Markdown documents with Quarto and you can rename them to <code>.qmd</code> files to turn them into Quarto documents.</p></li>
<li><p>You don’t have to do this – R Markdown continues to be maintained.</p></li>
<li><p>However, Quarto</p>
<ul class="incremental">
<li><p>Offers “batteries included” shared syntax across formats</p></li>
<li><p>Allows you to choose your own editor and your preferred data science language</p></li>
<li><p>Comes with richer features out of the box</p></li>
<li><p>Is actively developed</p></li>
</ul></li>
</ul>
</div>
</section>
<section id="questions" class="level2">
<h2 class="anchored" data-anchor-id="questions">Questions</h2>
<div class="task">
<p>Any questions / anything you’d like to review before we wrap up this module?</p>
</div>
</section>
<section id="your-turn-2" class="level2">
<h2 class="anchored" data-anchor-id="your-turn-2">Your turn</h2>
<div class="task">
<p>In RStudio, go to File &gt; New File &gt; Quarto document to create a Quarto document with HTML output. Render the document, which will ask you to give it a name – you can use <code>my-first-document.qmd</code>.</p>
<p>Use the visual editor for the next steps.</p>
<ul>
<li><p>Add a title and your name as the author.</p></li>
<li><p>Create two sections, one with things you would like to use Quarto for and a second with your favorite thing about R.</p></li>
<li><p>Add a table of contents.</p></li>
<li><p><strong>Stretch goal:</strong> Change the html theme to <code>sketchy</code>.</p></li>
</ul>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_5d92a111" data-update-every="1" tabindex="0" style="right:0;bottom:0;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>© 2024 Davide Gentile</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>